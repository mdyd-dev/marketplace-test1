{% graphql g,
  title: changeset.payload.title,
  price: changeset.payload.price
%}
  mutation product_create($title: String, $price: Int){
    model_create(
      model: {
        model_schema_name: "car"
        properties: [
          { name: "title", value: $title },
          { name: "price", value_int: $price }
        ]
      }
    ){
      id
    }
  }
{% endgraphql %}
{% liquid
  if g.errors.size > 0
    assign errors = '{"main": "invalid object"}' | parse_json
    assign changeset = changeset | add_hash_key: 'errors', errors
  else
    assign changeset = changeset | add_hash_key: 'model', g.model_create
  endif
%}
